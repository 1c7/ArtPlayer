{"version":3,"file":"artplayer.js","sources":["../../node_modules/tiny-emitter/index.js","../../src/utils/verification.js","../../src/i18n/zh-CN.js","../../src/i18n/zh-TW.js","../../src/i18n/en.js","../../src/i18n/jp.js","../../src/i18n/index.js","../../src/player.js","../../src/controls/index.js","../../src/contextmenu.js","../../src/danmu.js","../../src/info.js","../../src/captions.js","../../src/events.js","../../src/hotkey.js","../../src/index.js"],"sourcesContent":["function E () {\n  // Keep this empty so it's easier to inherit from\n  // (via https://github.com/lipsmack from https://github.com/scottcorgan/tiny-emitter/issues/3)\n}\n\nE.prototype = {\n  on: function (name, callback, ctx) {\n    var e = this.e || (this.e = {});\n\n    (e[name] || (e[name] = [])).push({\n      fn: callback,\n      ctx: ctx\n    });\n\n    return this;\n  },\n\n  once: function (name, callback, ctx) {\n    var self = this;\n    function listener () {\n      self.off(name, listener);\n      callback.apply(ctx, arguments);\n    };\n\n    listener._ = callback\n    return this.on(name, listener, ctx);\n  },\n\n  emit: function (name) {\n    var data = [].slice.call(arguments, 1);\n    var evtArr = ((this.e || (this.e = {}))[name] || []).slice();\n    var i = 0;\n    var len = evtArr.length;\n\n    for (i; i < len; i++) {\n      evtArr[i].fn.apply(evtArr[i].ctx, data);\n    }\n\n    return this;\n  },\n\n  off: function (name, callback) {\n    var e = this.e || (this.e = {});\n    var evts = e[name];\n    var liveEvents = [];\n\n    if (evts && callback) {\n      for (var i = 0, len = evts.length; i < len; i++) {\n        if (evts[i].fn !== callback && evts[i].fn._ !== callback)\n          liveEvents.push(evts[i]);\n      }\n    }\n\n    // Remove event from queue to prevent memory leak\n    // Suggested by https://github.com/lazd\n    // Ref: https://github.com/scottcorgan/tiny-emitter/commit/c6ebfaa9bc973b33d110a84a307742b7cf94c953#commitcomment-5024910\n\n    (liveEvents.length)\n      ? e[name] = liveEvents\n      : delete e[name];\n\n    return this;\n  }\n};\n\nmodule.exports = E;\n","export function verification (option) {\n    //\n}","export default {\n    \n}","export default {\n    \n}","export default {\n    \n}","export default {\n    \n}","import ZHCN from \"./zh-CN\";\nimport ZHTW from \"./zh-TW\";\nimport EN from \"./en\";\nimport JP from \"./jp\";\n\nconst i18nMap = {\n  \"zh\": ZHCN,\n  \"zh-CN\": ZHCN,\n  \"zh-TW\": ZHTW,\n  \"en\": EN,\n  \"jp\": JP\n};\n\nexport default class I18n {\n  constructor({ option }) {\n    this.language = i18nMap[option.language] || i18nMap.en;\n  }\n\n  get(key) {\n    return this.language[key] || key;\n  }\n}\n","export default class Player {\n  constructor({ option }) {\n    //\n  }\n}\n","export default class Controls {\n  constructor({ option }) {\n    //\n  }\n}\n","export default class Contextmenu {\n  constructor({ option }) {\n    //\n  }\n}\n","export default class Danmu {\n  constructor({ option }) {\n    //\n  }\n}\n","export default class Info {\n  constructor({ option }) {\n    //\n  }\n}\n","export default class Captions {\n  constructor({ option }) {\n    //\n  }\n}\n","export default class Events {\n  constructor({ option }) {\n    //\n  }\n}\n","export default class Hotkey {\n  constructor({ option }) {\n    //\n  }\n}\n","import \"./style/index.scss\";\nimport Emitter from 'tiny-emitter';\nimport { verification } from \"./utils\";\nimport I18n from \"./i18n\";\nimport Player from \"./player\";\nimport Controls from \"./controls\";\nimport Contextmenu from \"./contextmenu\";\nimport Danmu from \"./danmu\";\nimport Info from \"./info\";\nimport Captions from \"./captions\";\nimport Events from \"./events\";\nimport Hotkey from \"./hotkey\";\n\nlet id = 0;\nexport const instances = [];\n\nclass Artplayer extends Emitter {\n  constructor(option) {\n    super();\n    this.option = Object.assign({}, Artplayer.DEFAULTS, option);\n    verification(this.option);\n    this.init();\n  }\n\n  static get version() {\n    return \"__VERSION__\";\n  }\n\n  static get DEFAULTS() {\n    return {\n      //\n    };\n  }\n\n  init() {\n    this.refs = {};\n    this.destroyEvents = [];\n\n    this.i18n = new I18n(this);\n    this.player = new Player(this);\n    this.controls = new Controls(this);\n    this.contextmenu = new Contextmenu(this);\n    this.danmu = new Danmu(this);\n    this.captions = new Captions(this);\n    this.info = new Info(this);\n    this.events = new Events(this);\n    this.hotkey = new Hotkey(this);\n\n    this.id = id++;\n    instances.push(this);\n\n    console.log(this);\n  }\n\n  destroy() {\n    this.destroyEvents.forEach(event => event.destroy());\n    this.refs.container.innerHTML = \"\";\n  }\n}\n\nwindow.Artplayer = Artplayer;\nexport default Artplayer;\n"],"names":["verification","option","i18nMap","ZHCN","ZHTW","EN","JP","I18n","language","en","key","Player","Controls","Contextmenu","Danmu","Info","Captions","Events","Hotkey","id","instances","Artplayer","Object","assign","DEFAULTS","init","refs","destroyEvents","i18n","player","controls","contextmenu","danmu","captions","info","events","hotkey","push","console","log","forEach","event","destroy","container","innerHTML","Emitter","window"],"mappings":"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"}