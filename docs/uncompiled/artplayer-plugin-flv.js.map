{"version":3,"file":"artplayer-plugin-flv.js","sources":["../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../packages/artplayer-plugin-flv/src/checkSupport.js","../../packages/artplayer-plugin-flv/src/creatMediaSource.js","../../packages/artplayer-plugin-flv/src/index.js"],"sourcesContent":["function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","export default function checkSupport(art) {\n    const {\n        utils: { errorHandle },\n        config: { mimeCodec },\n    } = art.constructor;\n\n    const {\n        template: { $video },\n    } = art;\n\n    const canPlay = $video.canPlayType(mimeCodec.mp4);\n    errorHandle(\n        window.MediaSource &&\n            window.MediaSource.isTypeSupported(mimeCodec.mp4) &&\n            (canPlay === 'probably' || canPlay === 'maybe'),\n        `Unsupported MIME type or codec: ${mimeCodec.mp4}`,\n    );\n}\n","export default class CreatMediaSource {\n    constructor(art) {\n        this.mediaSource = new MediaSource();\n        this.url = URL.createObjectURL(this.mediaSource);\n    }\n}","import checkSupport from './checkSupport';\nimport CreatMediaSource from './creatMediaSource';\n\nclass Flv {\n    constructor(art) {\n        checkSupport(art);\n        this.mediaSource = new CreatMediaSource(art);\n        this.load = url => {\n            console.log(url);\n        };\n    }\n}\n\nfunction artplayerPluginFlv(art) {\n    const flv = new Flv(art);\n    return {\n        load: url => new Promise(resolve => {\n            flv.load(url);\n            return resolve(flv.mediaSource.url);\n        }),\n    };\n}\n\nwindow.artplayerPluginFlv = artplayerPluginFlv;\nexport default artplayerPluginFlv;\n"],"names":["checkSupport","art","constructor","errorHandle","utils","mimeCodec","config","$video","template","canPlay","canPlayType","mp4","window","MediaSource","isTypeSupported","CreatMediaSource","mediaSource","url","URL","createObjectURL","Flv","load","console","log","artplayerPluginFlv","flv","Promise","resolve"],"mappings":";;;;;;EAAA,SAAS,eAAe,CAAC,QAAQ,EAAE,WAAW,EAAE;IAC9C,IAAI,EAAE,QAAQ,YAAY,WAAW,CAAC,EAAE;MACtC,MAAM,IAAI,SAAS,CAAC,mCAAmC,CAAC,CAAC;KAC1D;GACF;;EAED,kBAAc,GAAG,eAAe;;ECNjB,SAASA,YAAT,CAAsBC,GAAtB,EAA2B;EAAA,yBAIlCA,GAAG,CAACC,WAJ8B;EAAA,MAEzBC,WAFyB,oBAElCC,KAFkC,CAEzBD,WAFyB;EAAA,MAGxBE,SAHwB,oBAGlCC,MAHkC,CAGxBD,SAHwB;EAAA,MAOtBE,MAPsB,GAQlCN,GARkC,CAOlCO,QAPkC,CAOtBD,MAPsB;EAUtC,MAAME,OAAO,GAAGF,MAAM,CAACG,WAAP,CAAmBL,SAAS,CAACM,GAA7B,CAAhB;EACAR,EAAAA,WAAW,CACPS,MAAM,CAACC,WAAP,IACID,MAAM,CAACC,WAAP,CAAmBC,eAAnB,CAAmCT,SAAS,CAACM,GAA7C,CADJ,KAEKF,OAAO,KAAK,UAAZ,IAA0BA,OAAO,KAAK,OAF3C,CADO,4CAI4BJ,SAAS,CAACM,GAJtC,EAAX;EAMH;;MCjBoBI,mBACjB,0BAAYd,GAAZ,EAAiB;EAAA;;EACb,OAAKe,WAAL,GAAmB,IAAIH,WAAJ,EAAnB;EACA,OAAKI,GAAL,GAAWC,GAAG,CAACC,eAAJ,CAAoB,KAAKH,WAAzB,CAAX;EACH;;MCDCI,MACF,aAAYnB,GAAZ,EAAiB;EAAA;;EACbD,EAAAA,YAAY,CAACC,GAAD,CAAZ;EACA,OAAKe,WAAL,GAAmB,IAAID,gBAAJ,CAAqBd,GAArB,CAAnB;;EACA,OAAKoB,IAAL,GAAY,UAAAJ,GAAG,EAAI;EACfK,IAAAA,OAAO,CAACC,GAAR,CAAYN,GAAZ;EACH,GAFD;EAGH;;EAGL,SAASO,kBAAT,CAA4BvB,GAA5B,EAAiC;EAC7B,MAAMwB,GAAG,GAAG,IAAIL,GAAJ,CAAQnB,GAAR,CAAZ;EACA,SAAO;EACHoB,IAAAA,IAAI,EAAE,cAAAJ,GAAG;EAAA,aAAI,IAAIS,OAAJ,CAAY,UAAAC,OAAO,EAAI;EAChCF,QAAAA,GAAG,CAACJ,IAAJ,CAASJ,GAAT;EACA,eAAOU,OAAO,CAACF,GAAG,CAACT,WAAJ,CAAgBC,GAAjB,CAAd;EACH,OAHY,CAAJ;EAAA;EADN,GAAP;EAMH;;EAEDL,MAAM,CAACY,kBAAP,GAA4BA,kBAA5B;;;;;;;;;;;;"}